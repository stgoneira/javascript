<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<meta name="description" content="Curso de Javascript Fullstack">
	<meta name="author" content="Santiago Neira">

	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

	<title>Curso Javascript</title>

	<link rel="stylesheet" href="css/reset.css">
	<link rel="stylesheet" href="css/reveal.css">
	<link rel="stylesheet" href="css/theme/blood.css">

	<!-- Theme used for syntax highlighting of code -->
	<link rel="stylesheet" href="lib/css/monokai.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css"
		integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous" />

	<!-- Printing and PDF exports -->
	<script>
		var link = document.createElement('link');
		link.rel = 'stylesheet';
		link.type = 'text/css';
		link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
		document.getElementsByTagName('head')[0].appendChild(link);
	</script>

	<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
	<![endif]-->
</head>

<body>
	<div class="reveal">
		<div class="slides">
			<section>
				<h1>Javascript</h1>
				<h3><a href="#">Clase 2</a></h3>
				<p>
					<small>Creado por <a target="_blank" href="https://github.com/stgoneira/javascript">Santiago
							Neira</a><br /><br />
						<a target="_blank"
							href="https://stgoneira.github.io/javascript/ppt/clase2.html?print-pdf&showNotes=true"><i
								class="fas fa-print"></i></a>
					</small>
				</p>
			</section>

			<section data-markdown>
				## [Clase Anterior]()

				- Historia de Javascript 
				- Estándares
				- Contextos de Javascript 
				- Sintaxis Básica
			</section>

			<section data-markdown>
				## [Objetivos]() 

				- Entender el DOM
				- Utilizar el DOM desde JS 
				- Aplicar if / else / switch / op. ternario
				- Aplicar for / for in / for of 
				- Aplicar while / do while 
				- Utilizar funciones para trabajar con Strings
				- Utilizar funciones para trabajar con Arrays
				- crear app web utilizando los conceptos
			</section>
			

			<!-- Flow Control Statements -->
			<section>
				<section data-markdown="">
					## [if / else if / else]()
					
					```javascript
					if( esValido ) {
						mostrarMensajeExitoso();
					}
					```
				</section>
				<section data-markdown="">
					## [if / else if / else]()
					
					```javascript
					if( esValido ) {
						mostrarMensajeExitoso();
					} else {
						mostrarMensajeError();
					}
					```
				</section>
				<section data-markdown="">
					## [if / else if / else]()
					
					```javascript
					if( esValido ) {
						mostrarMensajeExitoso();
					} else if ( esAceptable ) {
						mostrarAdvertencias();
					} else {
						mostrarMensajesError();
					}
					```
				</section>
			</section>			
			<!-- End Flow Control Statements -->

			<!-- Loops -->
			<section>
				<section data-markdown="">
					## for loop 

					```javascript
					let count = 10;
					for (let i = 0; i < count; i++) {
						console.log(i);
					}
					```
				</section>
				<section data-markdown="">
					## for in loop 

					Recorre las propiedades enumerables de un objeto

					```javascript
					let car = {brand: "Renault", model: "Symbol", year: 2015};
					for (prop in car) {
						console.log(prop, car[prop]);
					}
					```
				</section>
				<section data-markdown="">
					## for of loop 
					
					- Nuevo en ES6
					- Es usado para recorrer los elementos dentro de un objeto iterable.
					- Requiere que el objeto sea [iterable](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#The_iterable_protocol)

					```javascript		
					// el array es iterable por defecto			
					let obj = ["Fiat", "500", "white"]; 
					for (prop of obj) {
						console.log(prop);
					}
					```
				</section>


			</section>


			<section>
				<section data-markdown="">
					## do-while 

					```javascript
					do {
						mostrarVideo();
					} while ( usuarioTieneCredito );
					```
				</section>

				<section data-markdown="">
					## while 

					```javascript
						let i = 0;
						while (i < 10) {
							i += 2;
						}
					```
				</section>

			</section>
			<!-- End Loops -->

			<!-- Strings -->
			<section>
				<section data-markdown="">
					## [Strings]() 

					- Representan una secuencia de 0 ó más caracteres unicode (16 bits).
					- Se pueden representar con comillas dobles("), simples (') o backticks (`)

					```javascript
					let comSimple = 'hola, soy un string con comillas simples';
					let comDobles = "Hola, soy un string con comillas dobles"
					let comBack = `Hola, soy un string con backticks`
					```
		 
				</section>
				<section>
					<h3>Caracteres Literales</h3>
					<img src="contenido/images/string-literals.png" style="height: 80%;" />
				</section>
				<section data-markdown="">
					## [Concatenar Strings]() 

					- Los Strings son inmutables al igual que en Java 
					- Cuando se concatenan se crea un nuevo objeto en memoria 
					- Para concatenar se utilizar el operador +

					```javascript
					let a = "Mi nombre es ";
					let b = a + "Juanito";
					console.log(b);
					```
				</section>
				<section data-markdown="">
					## [Interpolación]() 

					- Para interpolar valores debes usar backticks (`)
					- Las variables a interpolar deben ir de la siguiente forma: ${ variable }

					```javascript
					let val1 = 80;
					let val2 = "hrs";
					let row = `
						<td>${val1}</td>
						<td>${val2}</td>
					`;
					```
				</section>
				<section data-markdown="">
					## Convertir a String

					```javascript
					let age = 31;
					let ageAsString = age.toString();
					console.log(typeof ageAsString);

					let formValido = true;
					let formValidoAsString = formValido.toString();
					console.log(typeof formValidoAsString);
					```
				</section>
				<section data-markdown="" data-separator="^\n\n\n" data-separator-vertical="^\n\n"
				data-separator-notes="^Note:" data-charset="utf-8">
					## [Propiedades y Funciones]()

					```javascript
					"hola".length // 4

					"hi".length // 2
					
					"   Juan Andrés  ".trim() // "Juan Andrés" 
					
					"12345678-5".split("")
					// ["1", "2", "3", "4", "5", "6", "7", "8", "-", "5"]
					```
					


					```javascript
					"hola".search("o") // 1
					"hola".search("h") // 0

					"El perro corre contento".replace("perro", "conejo") 
					// "El conejo corre contento"

					"1234567890".slice(2,9) // from inclusivo,  to exclusivo
					// "3456789"
					"1234567890".slice(0, -5)
					// "12345"

					"chao ".repeat(3)
					// "chao chao chao "
					```
					- [Más métodos (ver enlace)](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String#Methods)
				</section>
			</section>
			<!-- End Strings -->

			
			<!-- Arrays -->
			<section>
				<section data-markdown="">
					## [Arrays]() 

					- Son listas ordenadas de datos 
					- Los datos pueden ser de distintos tipos 
					- Los arrays en JS son dimensionados automáticamente
				</section>
				<section data-markdown="">
					## Arrays Sintaxis 

					```javascript
					let cars = new Array();
					console.log(cars.length) // 0
					cars.push("bmw");
					cars.push("audi");
					console.log(cars.length) // 2

					// mezcla de tipos es válida
					let mixedArr = ["bmw", 2, "rojo", true];
					console.log(mixedArr[1]); // 2
					console.log(mixedArr[2]); // "rojo"
					
					let colors = new Array("red", "blue", "white");
					let colors = ["red", "blue", "white"]; // sintaxis alternativa

					let fixed = new Array(3); // crea un array para 3 elementos 
					fixed.length // 3
					```
				</section>
				<section data-markdown="">
					## Métodos 

					```javascript
					let frutas = ["manzanas", "peras", "limones", "kiwis", "damascos"];
					let copiaFrutas = frutas.slice();
					let manzanas = frutas.shift(); // remueve y devuelve el 1er elemento 
					let damascos = frutas.pop(); // remueve y devuelve el último item 
					console.log(manzanas);
					console.log(damascos);
					frutas.forEach( function(item, index, arr){
						console.log(item, index);
					} );
					// peras, limones, kiwis
					console.log(copiaFrutas);
					// ["manzanas", "peras", "limones", "kiwis", "damascos"]					
					```

					- [ver más métodos acá](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)
				</section>
				<section data-markdown="">
					## [Arrays Multidimensionales]() 

					```javascript
					// representa las notas de un alumno en los 2 semestre del año 2018
					// de la asignatura de "Desarrollo Web"
					let notasAgnoJuan = [
						[4.5, 6.5, 5.4], // semestre 1
						[3.0, 2.5, 6.5] // semestre 2
					];
					console.log( notasAgnoJuan[0][0]  ); // 1era nota de Juan en el año
					console.log(notasAgnoJuan);
					```
				</section>
			</section>
			<!-- End Arrays -->

			<!-- DOM-->
			<section>
				<section data-markdown>
					## [Document Object Model (DOM)]() 

					- API para XML
					- Fue extendida para usar en HTML 
					- Mapea una página HTML a una jerarquía de nodos
					- Permite al desarrollador un control sobre el contenido y estructura		
				</section>
				<section data-markdown="">
					## [Ejemplo]()

					```html						 				
					&lt;html&gt;    &#13;&#10;&#9;&#9;&#9;&#9;&#9;&#9;&lt;head&gt;        &#13;&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&lt;title&gt;Sample Page&lt;/title&gt;    &#13;&#10;&#9;&#9;&#9;&#9;&#9;&#9;&lt;/head&gt;    &#13;&#10;&#9;&#9;&#9;&#9;&#9;&#9;&lt;body&gt;        &#13;&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&lt;p&gt; Hello World!&lt;/p&gt;    &#13;&#10;&#9;&#9;&#9;&#9;&#9;&#9;&lt;/body&gt; &#13;&#10;&#9;&#9;&#9;&#9;&#9;&lt;/html&gt;					
					```
				</section>				
				<section data-background="contenido/images/dom.png" data-background-size="500px">
					
				</section>
				<section data-markdown="">
					## [DOM Levels]()

					- [DOM Level 0](): No es un estándar, usado en Netscape 2 y 4
					- [DOM Level 1](): 1998, habilidad para cambiar el documento completo de HTML
					- [DOM Level 2](): 2001, Introducción de la función "getElementsById", event model y soporte para namespaces 
					- [DOM Level 3](): XPath, keyboard event handling 
					- [Más info](https://developer.mozilla.org/fr/docs/DOM_Levels)
				</section>
				<section data-background="contenido/images/DOM-compliance.png" data-background-size="800px">
					
				</section>
				<section data-markdown="">
					## [Ejemplos Manipulación DOM]()
					
					### HTML 
					```html 
					&lt;div id=&quot;id-elemento&quot;&gt;asdf&lt;/div&gt;
					```
					### Javascript 
					```javascript
					let nodo = document.getElementById("id-elemento");
					nodo.innerHTML = "Lorem Ipsum Dolor";
					```
				</section>
				<section data-markdown="">
					## [Más formas de acceso a los nodos]() 

					```javascript
					document.forms[0].elements[0].style.backgroundColor="red";
					document.getElementsByTagName("input");
					document.getElementsByClassName("formulario");
					```
				</section>
				<section data-markdown="">
					## [Cambiar el CSS de un elemento]() 

					```javascript
					nodo.style.cssText = "background-color: red;color: white; ";
					nodo.setAttribute('style', 'background-color: red; color: white;');
					nodo.style.backgroundColor = "red"; // camelCase properties 
					nodo.style.color = "white";
					```
					
					- [Más información sobre métodos](https://www.w3schools.com/js/js_htmldom_document.asp)
				</section>
				<section data-markdown="">
					## [Ejercicio]() 

					- Cree un formulario con al menos 2 inputs 
					- Cambie el estilo CSS de los inputs con JS
					- Utilice getElementsByTagName()
					- Utilice loops (for o while)
				</section>
			</section>
			<!-- end DOM -->

			<!-- BOM -->
			<!-- TODO: completar tema BOM -->
			<!-- end BOM -->

			<!-- Ejercicios -->
			<section>
				<section data-markdown="">
					## [Ejercicio 1 - DOM]() 

					- Crear formulario de registro de usuario con los siguientes campos:
						* Correo 
						* Contraseña
						* Ciudad
					- Validar que el largo de la contraseña sea de al menos 6 caracteres 
					- En el caso que sea válida la contraseña, poner de color verde el input 
					- En caso contrario, poner de color rojo					
				</section>
				<section data-markdown="">
					## Ejercicio 1 

					```html 
					&lt;!DOCTYPE html&gt;&#13;&#10;&#9;&#9;&#9;&#9;&#9;&lt;html lang=&quot;en&quot;&gt;&#13;&#10;&#9;&#9;&#9;&#9;&#9;&lt;head&gt;&#13;&#10;&#9;&#9;&#9;&#9;&#9;&#9;&lt;meta charset=&quot;UTF-8&quot;&gt;&#13;&#10;&#9;&#9;&#9;&#9;&#9;&#9;&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;&#13;&#10;&#9;&#9;&#9;&#9;&#9;&#9;&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;&#13;&#10;&#9;&#9;&#9;&#9;&#9;&#9;&lt;title&gt;Formulario de Registro&lt;/title&gt;&#13;&#10;&#9;&#9;&#9;&#9;&#9;&lt;/head&gt;&#13;&#10;&#9;&#9;&#9;&#9;&#9;&lt;body&gt;&#13;&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#13;&#10;&#9;&#9;&#9;&#9;&#9;&#9;&lt;form&gt;&#13;&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Correo Electr&oacute;nico:  &#13;&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&lt;input id=&quot;input-correo&quot; name=&quot;input-correo&quot; type=&quot;text&quot; /&gt;&lt;br /&gt;&#13;&#10;&#9;&#9;&#9;&#9;&#9;&#13;&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Contrase&ntilde;a: &#13;&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&lt;input type=&quot;password&quot; name=&quot;input-password&quot; id=&quot;input-password&quot; /&gt; &lt;br /&gt;&#13;&#10;&#9;&#9;&#9;&#9;&#9;&#13;&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Ciudad: &#13;&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&lt;select&gt;&#13;&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&lt;option&gt;Santiago&lt;/option&gt;&#13;&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&lt;option&gt;Vi&ntilde;a del Mar&lt;/option&gt;&#13;&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&lt;/select&gt;&#13;&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&lt;br /&gt;&#13;&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&lt;br /&gt;&#13;&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&lt;button type=&quot;button&quot; onclick=&quot;validar()&quot;&gt;Registrar&lt;/button&gt;&#13;&#10;&#9;&#9;&#9;&#9;&#9;&#9;&lt;/form&gt;&#13;&#10;&#9;&#9;&#9;&#9;&#9;&#13;&#10;&#9;&#9;&#9;&#9;&#9;&#9;&lt;script src=&quot;form-registro.js&quot;&gt;&lt;/script&gt;&#13;&#10;&#9;&#9;&#9;&#9;&#9;&lt;/body&gt;&#13;&#10;&#9;&#9;&#9;&#9;&#9;&lt;/html&gt;
					```
				</section>
				<section data-markdown="">
					## javascript

					```javascript
					function validar() {
						let inputPassword = document.getElementById("input-password");
						let password = inputPassword.value;
						let largoPassword = password.length;
						console.log("Largo de la password es de ", largoPassword);
					
						if( largoPassword < 6 ) {
							// password demasiado corta
							inputPassword.style.cssText = "background-color: red;";
						} else {
							inputPassword.style.cssText = "background-color: green;";
						}
					}
					```
				</section>
			</section>
			<section>
				<section data-markdown="">
					## [Ejercicio 2 - RUT]() 

					- Crear una función en JS que calcule el DV del RUT
					- Cree otra función que valide un rut
					- Se sugiere utilizar el sgte [algoritmo](https://es.wikipedia.org/wiki/Rol_%C3%9Anico_Tributario) 
				</section>
				<section data-markdown="">
					## Ejercicio 2 - RUT 

					```javascript
					function calcularDv(rut) {
						console.log("Parámetro original RUT", rut);
						
						// convierte el rut a un array de strings
						let aRut = rut.split("");
						console.log("RUT convertido a array", aRut);
					
						// invierte el orden del array
						let rRut = aRut.reverse();
						console.log("Array con orden inverso", rRut);
					
						// según el algoritmo para calcular el DV
						// se utiliza la siguiente serie para multiplicar
						let arrMul = [2, 3, 4, 5, 6, 7];
						// sintaxis para copiar rápidamente un array
						let arrMulCopy = [...arrMul]; 
						console.log("Array copiado", arrMulCopy);
						
						// recorremos y sumamos las multiplicaciones
						let suma = 0;
						for (let n in rRut) {
							let mul = rRut[n];
							if( arrMulCopy.length == 0 ) {
								arrMulCopy = [...arrMul];
							}
							suma += arrMulCopy.shift() * mul;
						}
						let modulo = suma % 11;
						let resultado = 11 - modulo;
						if( resultado == 10 ) {
							return "k";
						} else if( resultado == 11 ) {
							return 0;
						}
						return resultado;
					}
					
					let rut = process.argv[2];
					let dv = calcularDv(rut);
					console.log("RUT", rut, "-", dv);
					```
				</section>
			</section>
			<section>
				<section data-markdown="">
					## [Ejercicio 3 - RUT + DOM]()  

					- Agregue el campo RUT al formulario de registro 
					- Valide que la contraseña y RUT sean correctos
				</section>
			</section>


		</div><!-- end .slides -->
	</div><!-- end .reveal -->

	<script src="js/reveal.js"></script>

	<script>

		Reveal.initialize({
			controls: true,
			progress: true,
			center: true,
			hash: true,

			transition: 'slide', // none/fade/slide/convex/concave/zoom

			dependencies: [
				{ src: 'plugin/markdown/marked.js', condition: function () { return !!document.querySelector('[data-markdown]'); } },
				{ src: 'plugin/markdown/markdown.js', condition: function () { return !!document.querySelector('[data-markdown]'); } },
				{ src: 'plugin/highlight/highlight.js', async: true },
				{ src: 'plugin/search/search.js', async: true },
				{ src: 'plugin/zoom-js/zoom.js', async: true },
				{ src: 'plugin/notes/notes.js', async: true }
			]
		});
	</script>
</body>

</html>