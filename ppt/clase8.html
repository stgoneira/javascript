<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<meta name="description" content="Curso de Javascript Fullstack">
	<meta name="author" content="Santiago Neira">

	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

	<title>Curso Javascript</title>

	<link rel="stylesheet" href="css/reset.css">
	<link rel="stylesheet" href="css/reveal.css">
	<link rel="stylesheet" href="css/theme/blood.css">

	<!-- Theme used for syntax highlighting of code -->
	<link rel="stylesheet" href="lib/css/monokai.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css"
		integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous" />

	<!-- Printing and PDF exports -->
	<script>
		var link = document.createElement('link');
		link.rel = 'stylesheet';
		link.type = 'text/css';
		link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
		document.getElementsByTagName('head')[0].appendChild(link);
	</script>

	<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
	<![endif]-->
</head>

<body>
	<div class="reveal">
		<div class="slides">
			<section>
				<h1>Javascript</h1>
				<h3><a href="#">Clase 8</a></h3>
				<p>
					<small>Creado por <a target="_blank" href="https://github.com/stgoneira/javascript">Santiago
							Neira</a><br /><br />
						<a target="_blank" href="?print-pdf"><i class="fas fa-print"></i></a>
					</small>
				</p>
			</section>

			<section data-markdown="">
				## [Clase Anterior]()

				- Node.js 
				- JSON 
				- Proyectos 
				- Versionamiento 
				- Require 
				- Scripts
				- Browserify
				- Express
				- Testing				
			</section>
			<section data-markdown="">
				## [Objetivos]()

				- Strict Mode
				- Browser Object Model (BOM)
				- Expresiones Regulares 
				- Filesystem API				
				- Typescript 				
			</section>

			<section>
				<section data-markdown="">
					## [Strict Mode]()

					- [Desde ES5]() se puede optar por el modo estricto 
					- El modo estricto altera la semántica de JS para mejorar ciertos aspectos 
					- Principalmente hace más sencillo [entender qué pasa]() cuando hay [problemas]()
					- El modo por defecto de JS se conoce como ["Sloppy Mode"]() o modo poco riguroso
				</section>
				<section data-markdown="">
					## [Cambios en la Semántica]() 

					- [Lanza errores]() en vez de dejarlos como [errores silenciosos]() 
					- Permite que los motores de JS ejecuten [mejores optimizaciones]() para una ejecución más rápida 
					- [Prohibe ciertas sintaxis]() que probablemente sean definidas en futuras versiones 
				</section>
				<section data-markdown="">
					## [Contextos]()

					- El Modo Estricto aplica para un [script completo]() o [funciones individuales]()
					- [No aplica]() para [cualquier bloque]() de código {}. Ej. un if 
					- Si aplica para:
						* código de eval() 
						* manejadores de eventos 
						* strings pasados a setTimeout() 
				</section>
				<section data-markdown="">
					## Uso de Strict Mode 

					```javascript
					'use strict';
					// colocar 'use strict' antes que cualquier otra declaración

					// código ... 
					let saludo = 'Hola Mundo!';
					console.log(saludo);
					```
				</section>
				<section data-markdown="">
					## Uso de Strict Mode 

					```javascript
					function funcionEstricta() {
						'use strict';
						// activación de modo estricto
						// en contexto de una función 

						// cualquier código 
						console.log('something');
						return true;
					}
					```
				</section>
				<section data-markdown="">
					## [Modo Estricto para Módulos]()

					- ES6 (2015) introdujo la funcionalidad de módulos 
					- Y una 3ra forma de entrar en modo estricto 
					- [Por defecto]() los módulos están en modo estricto 
				</section>
				<section data-markdown="">
					## [Recomendaciones Generales]()

					- Usar el modo estricto es una [buena práctica]()
					- En caso de tener código Estricto y NO Estricto es recomendable:
						* [No mezclar código]() estricto con código no estricto
						* En el caso anterior, es mejor usar el [modo estricto a nivel de funciones]()
				</section>
				<section data-markdown="">
					## Ejemplos 

					```javascript
					// Sloppy Mode 
					console.log('hola');
					'use strict';

					undefined = 5;
					let asdf;
					console.log(asdf);
					varNoExistente = 11;
					``` 
				</section>
				<section data-markdown="">
					## Ejemplos 

					```javascript
					// Strict Mode 
					'use strict';

					undefined = 5; // undefined no es escribible 
					let asdf;
					console.log(asdf);
					```
				</section>
				<section data-markdown="">
					## Ejemplos 

					```javascript
					// Strict Mode 
					'use strict';

					// Assignment to a getter-only property
					var obj2 = { get x() { return 17; } };
					obj2.x = 5; // throws a TypeError
					```
				</section>				
				<section data-markdown="">
					## Ejemplos 

					```javascript
					'use strict';
					delete Object.prototype; // throws a TypeError
					/*
					No es posible borrar propiedades imborrables
					*/
					```
				</section>
				<section data-markdown="">
					## Ejemplos 

					```javascript
					"use strict";
					var sum = 015 + // !!! syntax error
							197 +
							142;

					var sumWithOctal = 0o15 + 197 + 142;
					console.log("sum", sum); 
					console.log("sumWithOctal", sumWithOctal); 
					/*
					Para evitar malos entendidos con programadores novatos 
					se cambio la sintaxis de los octales 
					*/
					```
				</section>
				<section data-markdown="">
					## Ejemplos 

					```javascript
					function sum(a, a, c) { // !!! syntax error
						'use strict';
						return a + a + c; // wrong if this code ran
					  }
					  
					  console.log( sum(1,2,3) );
					```
				</section>
				<section data-markdown="">
					## Ejemplos 

					```javascript
					(function() {
						'use strict';
						
						false.true = '';         // TypeError
						(14).sailing = 'home';   // TypeError
						'with'.you = 'far away'; // TypeError
						
					})();
					/*
					El Modo Estricto prohibe setear propiedades 
					sobre valores primitivos.
					En Sloppy Mode, simplemente esto es ignorado.
					*/
					```
				</section>
			</section>




			<section>
				<section data-markdown="">
					## [Browser Object Model (BOM)]()

					- API que permite hablar al Browser 
					- No existe un estándar oficial
					- Por lo que cada browser realiza su propia implementación
				</section>
				<section data-markdown="">
					## [Browser Object Model (BOM)]()

					- Popularmente encontramos en el BOM objetos como:
						* Window 
						* Screen
						* Location
						* History 
						* Navigator 
						* Entre otros
				</section>
				<section data-markdown="">
					## [Browser Tech Stack]()

					![Browser JS Stack](contenido/images/js-ecma-dom-bom.png)
				</section>
				<section data-markdown="">
					## [Window Object]()

					- Es soportado por todos los Browsers 
					- Actúa como objeto global, contenedor de variables, funciones
					- Incluso como contenedor del objeto document del DOM 

				</section>
				<section data-markdown="">
					## Window Object 

					```javascript
					window.document.getElementById('header')
					// es lo mismo que 
					document.getElementById('header')
					```
				</section>
				<section data-markdown="">
					## Window Size

					```javascript
					/* 
					El tamaño interior del Browser 
					no incluye las barras de herramientas 
					ni las barras de scroll
					*/
					window.innerHeight // alto  
					window.innerWidth  // ancho 		
					```
				</section>
				<section data-markdown="">
					## Compatibilidad Browsers

					```javascript
					// Para compatiblidad con Browsers antiguos
					// tipo IE 5, 6, 7, 8, etc 
					var w = window.innerWidth
						|| document.documentElement.clientWidth
						|| document.body.clientWidth;

					var h = window.innerHeight
						|| document.documentElement.clientHeight
						|| document.body.clientHeight;
					```
				</section>
				<section data-markdown="">
					## [Ejercicio 5 min]()

					- Abra su browser preferido
					- Inicie la herramienta para desarrolladores 
					- Ejecute los comandos para conocer el ancho y alto de la ventana 
					- Redimensione la ventana del browser 
					- Vuelva a ejecutar los comandos para conocer el ancho y alto 
				</section>
				<section data-markdown="">
					## Alcance Global - var 

					```javascript
					var age = 29;
					var sayAge = () => alert(this.age);

					alert(window.age); // 29
					sayAge(); // 29
					window.sayAge(); // 29
					```
				</section>
				<section data-markdown="">
					## Alcance Global - let y const 

					```javascript
					let age = 29;
					const sayAge = () => alert(this.age);

					alert(window.age); // undefined
					sayAge(); // undefined
					window.sayAge(); // TypeError: window.sayAge is not a function						
					```
				</section>
				<section data-markdown="">
					## Otros Métodos 

					```javascript
					window.open()					
					window.close()
					window.moveTo()
					window.resizeTo()
					```
				</section>
				<section data-markdown="">
					## [Location Object]()

					- Usado para conseguir información de la URL actual 
					- Y también para redirigir a una nueva página 
				</section>
				<section data-markdown="">
					## [Location Object]()

					```javascript
					window.location.href 
					// ej. https://midominio.com/uno.html?q=algo
					window.location.hostname // midominio.com 
					window.location.pathname // /uno.html
					window.location.protocol // https:
					```
				</section>
				<section data-markdown="">
					## Redirección 

					```javascript
					window.location.href = 'http://ticbiz.cl'
					// or 
					window.location.assign('http://ticbiz.cl')
					```
				</section>
				<section data-markdown="">
					## [History Object]()

					- Contiene la historia del browser 
					- Por privacidad del usuario solo tiene accesible 2 métodos:
						* history.back() 
						* history.forward() 
				</section>
				<!-- ref: pag. 481 - Cap. 12 The Browser Object Model - Professional Javascript for Web Developers, 4th Edition -->
			</section>



			<section>
				<section data-markdown="">
					## [Expresiones Regulares]()

					- Una expresión regular es una [secuencia de caracteres]() que forman un [patrón de búsqueda]()
					- También conocidad como [RegExp]() ([Re]()gular [Exp]()ression)
					- En JS las RegEx también son Objetos 
				</section>
				<section data-markdown="">
					## [Uso de RegExp]()

					- Los patrones son usados con los métodos:
						* exec() 
						* test() 
					- Y también con los métodos de String: 
						* match() 
						* matchAll() 
						* replace() 
						* search() 
						* split() 
				</section> 
				<section data-markdown="">
					## Sintaxis 

					```javascript
					/* Regex Syntax 
					/patrón/modificadores;
					*/

					// donde 'santiago' es el patrón 
					// el modificador i hace una búsqueda case-insensitive 
					let patron 		= /santiago/i;

					// o lo mismo usando el constructor 
					let patronObj 	= new RegExp("santiago", "i"); 

					```
				</section>
				<section data-markdown="">
					## Ejemplo 

					```javascript
					let patron = /santiago/i;
					let patron2 = /santiago/;
					// lo mismo que /santiago/i
					let patron3 = new RegExp("santiago", "i"); 

					let texto = `
						Ola de calor en Santiago, temperaturas sobre los 34º.
					`;

					console.log( patron.test(texto) ); // true
					console.log( patron2.test(texto) ); // false 
					console.log( patron3.test(texto) ); // true 

					
					```
				</section>
				<section>
					<h2> <a>Modificadores</a></h2>
					<table>
						<thead>
							<tr>
								<th>Modificador</th>
								<th>Descripción</th>
							</tr>							
						</thead>
						<tbody>
							<tr>
								<td>i</td>
								<td>Ejecuta el match de manera case-insensitive</td>
							</tr>
							<tr>
								<td>g</td>
								<td>Match global, es decir, encuentra todas las coincidencias, no se detiene al encontrar la primera.</td>
							</tr>
							<tr>
								<td>m</td>
								<td>Ejecuta el match multilínea</td>
							</tr>
						</tbody>
					</table>
				</section>
				<section data-markdown="">
					## Expresiones 

					```javascript
					[abc] // encuentra cualquier caracter entre los brackets 
					[^abc] // caracter que NO esté entre los brackets
					(x|y) // encuentra cualquier caracter de las aternativas
					// en este caso x o y 
					[0-9] // rangos
					[a-zA-Z] // rangos 
					[^0-9] // rangos 

					```
				</section>
				<section data-markdown="">
					## [Metacaracteres]()

					```javascript
					. // Encuentra un caracter, excepto una nueva línea 
					  //o terminación de línea (ej. \n, \r\n)
					\w // encuentra un caracter [a-zA-Z0-9_]
					\W // encuentra un caracter que NO esté dentro del
					   // conjunto anterior, es decir, [^a-zA-Z0-9_]
					\d // encuentra un dígito 
					\D // encuentra un no-dígito 
					\s // encuentra un espacio en blanco (whitespace)
					\S // encuentra un NO espacio en blanco (non-whitespace)
					```
				</section>
				<section data-markdown="">
					## [Cuantificadores]() 

					```javascript
					n+ // coincide con la aparición de 1 o más de (n)
					n* // 0 o más ocurrencias 
					n? // 0 o 1 ocurrencia 
					n{x} // con la coincidencia exacta de x veces 
					n{x,y} // coincide con el rango de apariciones 
					n{x,} // coincide con al menos x veces 
					n$ // coincide con n al final del texto 
					^n // coincide con n al comienzo 

					```
				</section>
				<section data-markdown="">
					## Ejemplos 

					```javascript
					let patron = /[S]\w+/ig;

					let texto = `Santiago vive en Santiago, Chile.`;

					console.log( texto.match(patron) );
					```
				</section>				
				<section data-markdown="">
					## Ejemplos 

					```javascript
					let str = `1st place: Winnie
					2nd place: Piglet
					3rd place: Eeyore`;
					
					str.match(/^\d/gm); // 1, 2, 3
					str.match(/^\d/g); // 1
					```
				</section>
			</section>
			
			<section>
				<section data-markdown="">
					## [Ejercicio - Parte I]() 

					- Continúe el ejercicio de las facturas 
					- Utilice el modo estricto dentro de todo su código
					- Incorpore un campo de correo elecrónico
					- Valide este campo usando Expresiones Regulares 
					- Adicionalmente valide que el correo solo pueda ser con dominio .cl o .com 
				</section>
				<section data-markdown="">
					## [Ejercicio - Parte II]() 
					
					- Valide el RUT 
					- Permita que el usuario ingrese el RUT con puntos y guion dentro de un solo input 
					- En caso que el usuario ingrese solo dígitos en el RUT, muestre el RUT con separador de miles a medida que el usuario va digitando 
					- Los códigos de validación deben ser probados con Mocha, use al menos 5 casos por c/u 
					- Modularice el código de las validaciones (para reutilización)
				</section>
			</section>
		</div><!-- end .slides -->
	</div><!-- end .reveal -->

	<script src="js/reveal.js"></script>

	<script>

		Reveal.initialize({
			controls: true,
			progress: true,
			center: true,
			hash: true,

			transition: 'slide', // none/fade/slide/convex/concave/zoom

			dependencies: [
				{ src: 'plugin/markdown/marked.js', condition: function () { return !!document.querySelector('[data-markdown]'); } },
				{ src: 'plugin/markdown/markdown.js', condition: function () { return !!document.querySelector('[data-markdown]'); } },
				{ src: 'plugin/highlight/highlight.js', async: true },
				{ src: 'plugin/search/search.js', async: true },
				{ src: 'plugin/zoom-js/zoom.js', async: true },
				{ src: 'plugin/notes/notes.js', async: true }
			]
		});
	</script>
</body>

</html>
